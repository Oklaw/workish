<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>UpNext Works — Tasker Registration (Ages 14–17)</title>
  <meta name="description" content="Register as a Tasker (ages 14–17) to earn safely in your community with parental consent and oversight." />
  <meta name="geo.region" content="US-VA">
  <meta name="geo.placename" content="Northern Virginia">

  <style>
    :root{
      --forest:#143D2A; --forest-ink:#224E3B; --cream:#F7F3EA; --offwhite:#FAF8F2;
      --line:rgba(0,0,0,.15); --font: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans";
      --radius-lg:28px; --radius-sm:14px;
      --shadow-sm:0 1px 2px rgba(0,0,0,.06), 0 2px 8px rgba(0,0,0,.04);
      --shadow-md:0 8px 24px rgba(0,0,0,.12);
      --space-2:.5rem; --space-3:.75rem; --space-4:1rem; --space-6:1.5rem; --space-8:2rem;
      --gold:#FFD66B;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:var(--font);color:var(--forest-ink);background:var(--cream);-webkit-font-smoothing:antialiased}

    /* Service area banner */
    .notice{background:#143D2A;color:#fff;text-align:center;padding:.65rem .9rem;font-size:.98rem}
    .notice a{color:#FFD66B;text-decoration:underline}
    .notice .zips{font-weight:700}

    /* Logo bar (identical to other pages) */
    .logo-bar{
      position:relative;
      background:var(--forest);
      color:#fff;
      display:flex; align-items:center; justify-content:center;
      height:108px; padding:10px 16px;
    }
    .brand{display:flex; flex-direction:column; align-items:center; line-height:1}
    .brand .upnext{font-weight:900;font-size:40px;letter-spacing:-.01em}
    .brand .works{margin-top:8px;font-weight:900;font-size:18px;letter-spacing:.35em}

    /* Hamburger */
    .menu-btn{
      position:absolute; left:14px; top:50%; transform:translateY(-50%);
      width:44px; height:44px; border-radius:999px;
      border:1px solid rgba(255,255,255,.25);
      background:transparent; display:grid; place-items:center; cursor:pointer;
    }
    .menu-btn:focus-visible{outline:2px solid #FFD66B; outline-offset:2px}
    .menu-ico{width:22px; height:18px; display:block}
    .menu-ico path{stroke:#fff; stroke-width:6; stroke-linecap:round; fill:none}

    /* Dropdown panel + backdrop */
    .menu-panel{
      position:fixed; left:0; right:0; top:160px;
      background:#fff; border-bottom:1px solid var(--line); box-shadow:0 10px 24px rgba(0,0,0,.12);
      transform:translateY(-12px); opacity:0; pointer-events:none;
      transition:transform .18s ease, opacity .18s ease; z-index:20;
    }
    .menu-panel.open{transform:none; opacity:1; pointer-events:auto;}
    .menu-list{list-style:none; margin:0; padding:6px 0;}
    .menu-list a{display:block; padding:14px 18px; text-decoration:none; color:var(--forest-ink); font-weight:800; font-size:1.05rem;}
    .menu-list a + a{border-top:1px solid var(--line)}
    .menu-list a:active{background:var(--offwhite)}
    .backdrop{position:fixed; inset:0; background:rgba(0,0,0,.32); opacity:0; pointer-events:none; transition:opacity .18s ease; z-index:19;}
    .backdrop.show{opacity:1; pointer-events:auto;}

    /* Main */
    .wrap{width:100%;max-width:720px;margin:0 auto;padding:var(--space-8) var(--space-4);background:#fff}
    .title{margin:0 0 var(--space-6);font-weight:800;font-size:clamp(26px,6.2vw,40px);letter-spacing:-.02em;line-height:1.14;color:var(--forest-ink)}
    .help{font-size:.95rem;color:#415148;margin:-8px 0 var(--space-6)}
    .disclaimer{font-size:.9rem; color:#415148; border-left:3px solid var(--forest); padding:.5rem .75rem; background:var(--offwhite); border-radius:8px; margin-bottom:1rem}

    /* Form */
    .form{display:grid; gap:14px}
    .field{display:grid; gap:8px}
    .field-row{display:grid; grid-template-columns:1fr 1fr; gap:12px}
    .field label{font-weight:700; font-size:.98rem}
    .field input, .field select, .field textarea{
      width:100%; padding:12px 14px; border:1px solid var(--line); border-radius:12px; background:var(--offwhite);
      font-size:16px; color:#2A3A33;
    }

    /* FIXED CHECKBOX ALIGNMENT */
    .checkbox-group{display:grid; gap:10px}
    .checkbox-list{
      display:grid;
      grid-template-columns: 1fr;   /* one column; labels keep input + text together */
      gap:10px;
    }
    .checkbox-list label{
      display:flex;
      align-items:center;
      gap:10px;
      line-height:1.25;
    }
    .checkbox-list input[type="checkbox"]{
      width:18px; height:18px; margin:0; flex:0 0 auto;
    }

    .btn{height:56px;border-radius:var(--radius-lg);font-weight:900;font-size:18px;letter-spacing:.01em;display:inline-flex;align-items:center;justify-content:center;text-decoration:none;border:1px solid transparent;cursor:pointer;transition:transform .06s ease, filter .15s ease}
    .btn:active{transform:translateY(1px)}
    .btn-primary{background:var(--forest);color:#fff;box-shadow:var(--shadow-md);border:none}
    .actions{margin-top:16px; display:flex; gap:10px; align-items:center}

    .success{display:none;color:#0a6c3b;margin-top:.75rem;font-weight:700}
    .error{display:none;color:#8a1f11;margin-top:.5rem;font-weight:700}

    /* Mobile */
    @media (max-width: 520px){
      .field-row{grid-template-columns:1fr}
      .logo-bar{height:96px}
    }

    .sr-only{position:absolute!important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
  </style>
</head>
<body>

  <!-- Service area banner -->
  <div class="notice">
    Now piloting in <strong>Northern Virginia</strong> — currently serving ZIPs:
    <span class="zips">20169, 20155, 20136, 20143, 20109</span>.
    <a href="#policy">Why teens only?</a>
  </div>

  <!-- Logo bar (unchanged from other pages) -->
  <header class="logo-bar" role="banner" aria-label="UpNext Works">
    <button class="menu-btn" id="menuBtn" aria-label="Open menu" aria-expanded="false" aria-controls="menuPanel">
      <svg class="menu-ico" viewBox="0 0 48 36" aria-hidden="true">
        <path d="M6 6 H42 M6 18 H42 M6 30 H42"></path>
      </svg>
    </button>

    <div class="brand">
      <span class="upnext">UpNext</span>
      <span class="works">WORKS</span>
    </div>
  </header>

  <!-- Dropdown menu -->
  <div class="menu-panel" id="menuPanel" role="menu" aria-label="Site navigation">
    <nav class="menu-list">
      <a href="/index.html" role="menuitem">Home</a>
      <a href="/about.html" role="menuitem">About</a>
      <a href="/taskers.html" role="menuitem">For Taskers</a>
      <a href="/tasker-register.html" role="menuitem" aria-current="page">Tasker Registration</a>
      <a href="/customers.html" role="menuitem">For Customers</a>
      <a href="/customer-register.html" role="menuitem">Customer Registration</a>
      <a href="/contact.html" role="menuitem">Contact</a>
    </nav>
  </div>
  <div class="backdrop" id="menuBackdrop" hidden></div>

  <!-- Main content -->
  <main class="wrap">
    <h1 class="title">Register as a Tasker (14–17)</h1>
    <p class="help">Parent/guardian consent is required. We’ll verify your info before activating your profile.</p>

    <section id="policy" class="disclaimer" aria-label="Youth Participation Policy">
      <strong>Youth Participation Policy.</strong> UpNext Works is a community initiative for youth ages 14–17 to gain early, supervised work experience. This platform is not an employment service and does not create an employer–employee relationship. Adults may participate as customers or mentors. Age limits are for safety, educational, and compliance reasons.
    </section>

    <!-- Registration form -->
    <form id="tasker-form" class="form" action="https://formspree.io/f/xjkjbvdv" method="POST" novalidate>
      <input type="hidden" name="source" value="upnextworks.org-tasker-registration" />

      <!-- Tasker info -->
      <div class="field-row">
        <div class="field">
          <label for="first_name">First name</label>
          <input id="first_name" name="first_name" type="text" autocomplete="given-name" required />
        </div>
        <div class="field">
          <label for="last_name">Last name</label>
          <input id="last_name" name="last_name" type="text" autocomplete="family-name" required />
        </div>
      </div>

      <div class="field-row">
        <div class="field">
          <label for="dob">Date of birth</label>
          <input id="dob" name="dob" type="date" required aria-describedby="dob-help" />
          <div id="dob-help" class="help">Taskers must be between 14 and 17 years old.</div>
        </div>
        <div class="field">
          <label for="school">School (or homeschool)</label>
          <input id="school" name="school" type="text" />
        </div>
      </div>

      <div class="field-row">
        <div class="field">
          <label for="tasker_email">Tasker email</label>
          <input id="tasker_email" name="tasker_email" type="email" autocomplete="email" inputmode="email" required />
        </div>
        <div class="field">
          <label for="tasker_phone">Tasker mobile</label>
          <input id="tasker_phone" name="tasker_phone" type="tel" autocomplete="tel" inputmode="tel" placeholder="(###) ###-####" required />
        </div>
      </div>

      <!-- Address -->
      <div class="field">
        <label for="street">Street address</label>
        <input id="street" name="street" type="text" autocomplete="address-line1" required />
      </div>

      <div class="field-row">
        <div class="field">
          <label for="city">City</label>
          <input id="city" name="city" type="text" autocomplete="address-level2" required />
        </div>
        <div class="field">
          <label for="state">State</label>
          <select id="state" name="state" autocomplete="address-level1" required>
            <option value="">Select</option>
            <option value="VA" selected>VA</option>
            <option value="DC">DC</option>
            <option value="MD">MD</option>
          </select>
        </div>
      </div>

      <div class="field">
        <label for="zip">ZIP code</label>
        <input id="zip" name="zip" type="text" inputmode="numeric" pattern="[0-9]{5}" placeholder="#####"
               aria-describedby="zip-help" required />
        <div id="zip-help" class="help">Pilot ZIPs: 20169, 20155, 20136, 20143, 20109</div>
      </div>

      <!-- Skills (aligned) -->
      <div class="field checkbox-group">
        <label>What kinds of tasks are you comfortable doing?</label>
        <div class="checkbox-list" aria-label="Tasker skills">
          <label><input type="checkbox" name="skills[]" value="Yardwork" /> Yardwork (raking, leaf bags, weeding)</label>
          <label><input type="checkbox" name="skills[]" value="Snow" /> Snow (shoveling, salting)</label>
          <label><input type="checkbox" name="skills[]" value="Pet Care" /> Pet Care (walks, feeding)</label>
          <label><input type="checkbox" name="skills[]" value="Cleaning" /> Cleaning (tidy, garage, cars)</label>
          <label><input type="checkbox" name="skills[]" value="Babysitting" /> Babysitting (with family approval)</label>
          <label><input type="checkbox" name="skills[]" value="Tutoring" /> Tutoring (list subjects below)</label>
        </div>
      </div>

      <div class="field">
        <label for="experience">Experience / notes (optional)</label>
        <textarea id="experience" name="experience" rows="3" placeholder="Any experience, certifications (e.g., babysitting), or a quick intro."></textarea>
      </div>

      <!-- Availability (aligned) -->
      <div class="field checkbox-group">
        <label>When are you usually available?</label>
        <div class="checkbox-list" aria-label="Availability">
          <label><input type="checkbox" name="availability[]" value="Weekday Afternoons" /> Weekday afternoons</label>
          <label><input type="checkbox" name="availability[]" value="Evenings" /> Evenings</label>
          <label><input type="checkbox" name="availability[]" value="Weekends" /> Weekends</label>
          <label><input type="checkbox" name="availability[]" value="School Breaks" /> School breaks</label>
        </div>
      </div>

      <!-- Parent/Guardian (always required for 14–17) -->
      <section style="border-top:1px solid var(--line); padding-top:12px;">
        <h3 style="margin:6px 0;">Parent/Guardian Consent (required)</h3>

        <div class="field-row">
          <div class="field">
            <label for="parent_name">Parent/Guardian name</label>
            <input id="parent_name" name="parent_name" type="text" required />
          </div>
          <div class="field">
            <label for="parent_relation">Relationship</label>
            <input id="parent_relation" name="parent_relation" type="text" placeholder="Mom, Dad, Aunt, etc." required />
          </div>
        </div>

        <div class="field-row">
          <div class="field">
            <label for="parent_email">Parent/Guardian email</label>
            <input id="parent_email" name="parent_email" type="email" inputmode="email" required />
          </div>
          <div class="field">
            <label for="parent_phone">Parent/Guardian mobile</label>
            <input id="parent_phone" name="parent_phone" type="tel" inputmode="tel" placeholder="(###) ###-####" required />
          </div>
        </div>

        <label class="checkbox-list"><label><input type="checkbox" id="parent_consent" name="parent_consent" required /> I am the parent/guardian and I consent to my teen’s participation in UpNext Works.</label></label>
      </section>

      <!-- Consents -->
      <div class="field" style="border-top:1px solid var(--line); padding-top:12px;">
        <label class="checkbox-list"><label><input type="checkbox" id="teen_ack" name="teen_ack" required /> I (the teen) agree to the <a href="/terms.html" target="_blank" rel="noopener">Terms of Use</a> and <a href="/privacy.html" target="_blank" rel="noopener">Privacy Policy</a>.</label></label>
        <label class="checkbox-list"><label><input type="checkbox" id="sms_ok" name="sms_ok" /> OK to text me (teen and parent/guardian) about bookings and updates.</label></label>
      </div>

      <div class="actions">
        <button type="submit" id="submitBtn" class="btn btn-primary">Submit registration</button>
        <span class="help">We’ll review and confirm by email/text.</span>
      </div>

      <div class="success" id="okMsg" role="status" aria-live="polite">Thanks! Your registration was received. We’ll be in touch shortly.</div>
      <div class="error" id="errMsg" role="alert">Please complete required fields and try again.</div>
    </form>
  </main>

  <!-- JS -->
  <script>
    // Menu
    (function(){
      const btn = document.getElementById('menuBtn');
      const panel = document.getElementById('menuPanel');
      const backdrop = document.getElementById('menuBackdrop');
      const open = () => { panel.classList.add('open'); backdrop.hidden=false; backdrop.classList.add('show'); btn.setAttribute('aria-expanded','true'); };
      const close = () => { panel.classList.remove('open'); backdrop.classList.remove('show'); setTimeout(()=>{backdrop.hidden=true},180); btn.setAttribute('aria-expanded','false'); };
      btn.addEventListener('click', () => panel.classList.contains('open') ? close() : open());
      backdrop.addEventListener('click', close);
      document.addEventListener('keydown', e => { if (e.key==='Escape' && panel.classList.contains('open')) close(); });
      panel.querySelectorAll('a').forEach(a => a.addEventListener('click', close));
    })();

    // Utilities
    function sanitizePhone(p){ return (p||'').replace(/[^\d]/g,''); }

    // Form validation + Formspree submission
    (function () {
      const form = document.getElementById('tasker-form');
      const submitBtn = document.getElementById('submitBtn');
      const ok = document.getElementById('okMsg');
      const err = document.getElementById('errMsg');

      const pilotZips = new Set(['20169','20155','20136','20143','20109']);

      const requiredIds = [
        'first_name','last_name','dob','tasker_email','tasker_phone',
        'street','city','state','zip',
        'parent_name','parent_relation','parent_email','parent_phone',
        'parent_consent','teen_ack'
      ];

      form.addEventListener('submit', async function (e) {
        e.preventDefault(); err.style.display='none'; ok.style.display='none';

        // Required checks
        for (const id of requiredIds){
          const el = document.getElementById(id);
          const isBox = el && el.type === 'checkbox';
          if (!el || (isBox ? !el.checked : (el.value||'').trim()==='')){
            err.textContent = 'Please complete all required fields and consents.';
            err.style.display = 'block';
            if (el) el.focus();
            return;
          }
        }

        // Age window
        const dobEl = document.getElementById('dob');
        const dob = new Date(dobEl.value);
        if (isNaN(dob.getTime())){
          err.textContent = 'Please enter a valid date of birth.'; err.style.display='block'; dobEl.focus(); return;
        }
        const today = new Date();
        let age = today.getFullYear() - dob.getFullYear();
        const m = today.getMonth() - dob.getMonth();
        if (m < 0 || (m === 0 && today.getDate() < dob.getDate())) age--;
        if (age < 14 || age > 17){
          err.textContent = 'Taskers must be 14–17 years old.'; err.style.display='block'; dobEl.focus(); return;
        }

        // Phone normalization
        const teenPhone = document.getElementById('tasker_phone');
        const parentPhone = document.getElementById('parent_phone');
        const teenDigits = sanitizePhone(teenPhone.value);
        const parentDigits = sanitizePhone(parentPhone.value);
        if (teenDigits.length < 10 || parentDigits.length < 10){
          err.textContent = 'Enter valid 10-digit phone numbers for teen and parent/guardian.';
          err.style.display='block'; return;
        }
        teenPhone.value = teenDigits; parentPhone.value = parentDigits;

        // ZIP format
        const zipEl = document.getElementById('zip');
        const zip = (zipEl.value||'').trim();
        if (!/^\d{5}$/.test(zip)){
          err.textContent = 'Please enter a 5-digit ZIP code.'; err.style.display='block'; zipEl.focus(); return;
        }

        // Submit
        submitBtn.disabled = true; submitBtn.textContent = 'Submitting…';
        try {
          const res = await fetch(form.action, {
            method: 'POST',
            headers: { 'Accept': 'application/json' },
            body: new FormData(form)
          });
          if (res.ok){
            const msg = pilotZips.has(zip)
              ? 'Thanks! Your registration was received. We’ll follow up shortly.'
              : 'Thanks! You’re outside our pilot area — we’ll notify you when we expand.';
            ok.textContent = msg;
            ok.style.display = 'block';
            form.reset();
            submitBtn.textContent = 'Submitted ✓';
          } else {
            err.style.display = 'block';
            submitBtn.disabled = false; submitBtn.textContent = 'Submit registration';
          }
        } catch {
          err.style.display = 'block';
          submitBtn.disabled = false; submitBtn.textContent = 'Submit registration';
        }
      });
    })();
  </script>
</body>
</html>
